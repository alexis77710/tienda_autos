<div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
  
  @for (auto of productos; track auto._id) {
    <div class="col">
      <div class="card h-100 shadow-sm car-card">
        
        <div class="img-wrapper">
          <!-- Si tiene imagen, mostramos la del servidor -->
          @if (auto.imagen) {
            <img [src]="url + 'get-imagen/' + auto.imagen" class="card-img-top" [alt]="auto.modelo">
          } 
          <!-- Si NO tiene imagen, mostramos una genérica (opcional) -->
          @else {
            <img src="assets/img/default-car.png" class="card-img-top" alt="Sin imagen">
          }
        </div>

        <div class="card-body d-flex flex-column">
          <!-- Marca y Modelo -->
          <h5 class="card-title fw-bold text-uppercase">{{ auto.marca }} {{ auto.modelo }}</h5>
          
          <!-- Precio -->
          <h6 class="card-subtitle mb-3 text-danger fw-bold fs-5">${{ auto.precio }}</h6>
          
          <!-- Detalles (Año y Kilometraje) -->
          <div class="card-text text-muted flex-grow-1 mb-3">
            <p class="mb-1"><i class="bi bi-calendar-event"></i> Año: {{ auto.anio }}</p>
            <p class="mb-0"><i class="bi bi-speedometer2"></i> Recorrido: {{ auto.kilometraje }}</p>
          </div>
          
          <!-- Botón de Acción -->
          <button class="btn btn-outline-dark mt-auto w-100">
            <i class="bi bi-cart-plus"></i> Cotizar
          </button>
        </div>
      </div>
    </div>
  }

</div>